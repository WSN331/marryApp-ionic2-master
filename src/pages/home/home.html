<ion-header >
  <div class="head" id="head" style="opacity : 1">
    <div class="head_back" (click)="goToSearch()">
      <span></span>
      <img src="assets/img/search.png"/>
    </div>
    <div class="head_title">
      邂逅斯年
    </div>
    <div class="line">
    </div>
  </div>
</ion-header>



<ion-content>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>

  <!--用户列表-->
  <div class="user_list">
    <!--<div class="glass"></div>-->
    <!--每个用户的卡片-->
    <div class="user_card" *ngFor="let user of userList; let i = index;" (click)="getIntroduce(user.id)">

      <div>

        <div class="picture">
          <img [src]="imgService.safeImage(user.picture)" class="mypic" />
        </div>

        <div class="vrz" *ngIf="user.mainCredNum >= 3">
          <img src="assets/img/rz.png"/>
          <span class="NoRz">认证用户</span>
        </div>

        <div class="delete" (click)="deleteFromList($event,i)">
          <img src="assets/img/delete2.png"/>
        </div>

        <div class="bar">
          <div class="bar_item" *ngIf="user.relation==0" (click)="like($event, i)"><img src="assets/img/bar_like.png"/></div>
          <div class="bar_item" *ngIf="user.relation==1" (click)="disLike($event, i)"><img src="assets/img/bar_like_on.png"/></div>
          <div class="bar_item" (click)="goToMessage($event, user)"><img src="assets/img/bar_msg.png"/></div>
        </div>

        <div class="message">

          <div class="line_one">
            <div class="name">
              {{ user.nickName }}
            </div>

            <div class="pic" *ngIf="calculateService.isVip(user.vipTime)==true">
              <img src="assets/img/vrz.png"/>
              <span>Vip用户</span>
            </div>
          </div>
          <!--学校显示-->
          <div class="school_forth">
            <p *ngIf="user.detailInfo.forthSchool !== undefined && user.detailInfo.forthSchool !== null">
              {{user.detailInfo.forthSchool.name}}
            </p>
          </div>

          <div class="line_third">
            <p>{{ calculateService.getAge(user.birthday) }}岁</p>
            <p class="part">|</p>
            <p>{{ calculateService.getConstellation(user.birthday) }}</p>
          </div>

          <div class="line_fourth">
            <p *ngIf="user.hobby =='' ">爱好：主人很懒，什么都没写！</p>
            <p *ngIf="user.hobby !=='' ">爱好：{{ user.hobby }}</p>
          </div>

          <div class="line_five">
            <p *ngIf="user.detailInfo.chooseStandard !== '' ">期待的他(她)：{{user.detailInfo.chooseStandard}}</p>
            <p *ngIf="user.detailInfo.chooseStandard == '' ">遇见便是一种缘分~</p>
          </div>
        </div>


      </div>
    </div>

    <div class="next_page" (click)="nextPage()">显示更多</div>
  </div>

</ion-content>
