<ion-header>
  <div class="head">
    <div class="head_title">
      消息
    </div>
    <div class="line">
    </div>
  </div>
</ion-header>

<ion-content padding>

  <div class="love" (click)="goToContact()">
    <div class="image_show">
      <img src="assets/img/love.png"/>
      <div *ngIf="this.memory.getLike()==true" class="circles"></div>
    </div>
    <div class="describe">
      <span class="span1">心动</span><br/>
      <span class="span2">查询对你心动的人和你心动的记录</span>
    </div>
    <div class="btIcon">
      <img src="assets/img/next.png"/>
    </div>
    <div class="divide_line"></div>
  </div>

  <div class="visit" (click)="goToPeople()">
    <div class="image_show">
      <img src="assets/img/visit.png"/>
      <div class="circles" *ngIf="isShow == true"></div>
    </div>
    <div class="describe">
      <span class="span1">最近来访</span><br/>
      <span class="span2">查看最近谁访问了您</span>
    </div>
    <div class="btIcon">
      <img src="assets/img/next.png"/>
    </div>
    <div class="divide_line"></div>
  </div>

  <div class="redWomen" (click)="goToMatcher()">
    <div class="image_show">
      <img src="assets/img/redWomen.png"/>
      <div *ngIf="this.memory.getMsg()==true" class="circles"></div>
    </div>
    <div class="describe">
      <span class="span1">邂逅大使</span><br/>
      <span class="span2">任何问题欢迎找邂逅大使哦</span>
    </div>
    <div class="btIcon">
      <img src="assets/img/next.png"/>
    </div>
    <div class="divide_line"></div>
  </div>

  <!-- 下面显示聊天列表 -->
  <ion-list no-lines>
    <ion-list-header>聊天记录</ion-list-header><!--(click)="goToTalk(conTalk.talk)"-->

    <div *ngFor="let conTalk of conversations" >
    <ion-item *ngIf="conTalk.isDefaultPic !== true && conTalk.show == true" class="item">


      <div class="picture" item-start (click)="goToIntroduce(conTalk.baseInfo)">
        <img [src]="imgService.safeImage(conTalk.baseInfo.picture)">
        <!--<div class="circle"></div>-->
        <div class="circle" *ngIf="conTalk.talk.unreadMessagesCount>0" >{{conTalk.talk.unreadMessagesCount}}</div>
      </div>

      <div class="toTalk" (click)="goToTalk(conTalk)">
        <h2 class="h2">{{conTalk.baseInfo.nickName}}</h2>
        <p>{{ calculateService.getAge(conTalk.baseInfo.birthday) }}岁<p>
        <p *ngIf="conTalk.baseInfo.hobby!=null && conTalk.baseInfo.hobby !=''">爱好：{{ conTalk.baseInfo.hobby}}</p>
        <p *ngIf="conTalk.baseInfo.hobby ==null || conTalk.baseInfo.hobby ==''">爱好：暂无,希望和你一起培养</p>
      </div>


      <p class="p_msg" *ngIf="conTalk.talk.unreadMessagesCount>0">您有未读消息</p>
<!--      <div *ngIf="conTalk.talk.unreadMessagesCount>0">{{this.memory.setMsg(true)}}</div>-->
      <ion-note item-end *ngIf="conTalk.talk.lastMessageAt != null && conTalk.talk.lastMessageAt.getMinutes()<10">{{conTalk.talk.lastMessageAt.getMonth()+1}}-{{conTalk.talk.lastMessageAt.getDate()}} {{conTalk.talk.lastMessageAt.getHours()}}:{{'0'+conTalk.talk.lastMessageAt.getMinutes()}}</ion-note>
      <ion-note item-end *ngIf="conTalk.talk.lastMessageAt != null && conTalk.talk.lastMessageAt.getMinutes()>=10">{{conTalk.talk.lastMessageAt.getMonth()+1}}-{{conTalk.talk.lastMessageAt.getDate()}} {{conTalk.talk.lastMessageAt.getHours()}}:{{conTalk.talk.lastMessageAt.getMinutes()}}</ion-note>



    </ion-item>
    </div>
  </ion-list>

</ion-content>
